import{V as b}from"./ViewerConfigurator-CJsjDztE.js";C();function C(){new b().setConf(S())}function S(){var c,u,s;const{href:t}=location,{searchParams:r}=new URL(t),e=Object.fromEntries(r.entries());if(!e.src){const n=document.createElement("div");return n.innerText="未指定glTF，请在url query串中添加model参数！",n.style.position="fixed",n.style.top=0,n.style.width="100vw",n.style.textAlign="center",n.style.fontSize="3rem",n.style.color="red",document.body.append(n),{}}e.enableCtrl=e.enableCtrl!=null,["boxHelper","wireframe"].forEach(n=>{e[n]!=null&&(e[n]=!0)}),e.rotate=l(e.rotate,[-100,100]),e.zoom=l(e.zoom,[1e-4]),e.alpha=l(e.alpha,[1e-4]),e.animationSpeed=l(e.animationSpeed,[0,3]);const[i,o]=((c=e.bgColor)==null?void 0:c.split(/[,，]/))||[],[a,m]=[f(i),l(o,[0,1])],[g,p]=((u=e.light)==null?void 0:u.split(/[,，]/))||[];e.light=void 0;const[h,d]=[f(g),l(p,[0],Boolean)],y=(s=e.animations)==null?void 0:s.split(/[,，]/);return JSON.parse(JSON.stringify({...e,bgColor:a,bgOpacity:m,lightColor:h,lightIntensity:d,animations:y}))}function f(t){if(t!=null&&t.startsWith("#")&&[4,7].includes(t.length))return t;(t==null?void 0:t.length)===3&&(t=[...t].map(e=>e.repeat(2)).join(""));let r;return(t==null?void 0:t.length)===6&&(r=parseInt(t,16),Number.isNaN(r)&&(r=void 0)),r}function l(t,[r,e]=[],i){let o=+t;if(!Number.isNaN(o)&&o<=(e??o)&&o>=(r??o)&&!i||(i==null?void 0:i(t,o)))return o}
//# sourceMappingURL=main-CMb5YeQc.js.map
